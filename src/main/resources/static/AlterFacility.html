<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="assets/global/plugins/jquery-1.11.0.min.js" type="text/javascript"></script>
</head>
<body>
    <div>
        <input type="text" id="FacilityName" class="gui-input" placeholder="Facility Name">
        <input type="text" id="FacilityStatus" class="gui-input" placeholder="repairing or normal">
        <input type="text" id="FacilityIntroduction" class="gui-input" placeholder="Facility Introduction">
        <input type="text" id="FacilityOpenTime" class="gui-input" placeholder="Open Time 18:00:00">
        <input type="text" id="FacilityCloseTime" class="gui-input" placeholder="Close Time 20:00:00">
        <input type="text" id="QueueStatus" class="gui-input" placeholder="Queue Status">
    </div>
    <div>
        <button class="btn blue" id="Add_Facility" type="submit"> Add Facility </button>
    </div>
    <div>
        <button class="btn blue" id="Delete_Facility" type="submit"> Delete Facility </button>
    </div>
    <div>
        <button class="btn blue" id="Update_Facility" type="submit"> Update Facility </button>
    </div>
    <script>
        jQuery(document).ready(function() {
            $("#Add_Facility").on("click", function (){
                $.ajax({
                    type: "POST",
                    url:"http://localhost:8080/manager/addFacility",
                    data:JSON.stringify({
                        "facilityName":$("#FacilityName").val(),
                        "facilityStatus":$("#FacilityStatus").val(),
                        "facilityIntroduction":$("#FacilityIntroduction").val(),
                        "facilityOpenTime":$("#FacilityOpenTime").val(),
                        "facilityCloseTime":$("#FacilityCloseTime").val(),
                        "queueStatus":$("#QueueStatus").val(),
                    }),
                    dataType: "json",
                    contentType: "application/json;charset=UTF-8",
                    success:function(data){
                        console.log(data)
                        if (data.status === "success") {
                            alert("Add facility successfully");
                        } else {
                            alert("Failed to add facility, the reason is that " + data.data);
                        }
                    },
                    error:function(data){
                        console.log(data)
                        alert("Error! "+data.responseText);
                    }

                });
            })
        });
    </script>

    <script>
        jQuery(document).ready(function() {
            $("#Delete_Facility").on("click", function (){
                $.ajax({
                    type: "POST",
                    url:"http://localhost:8080/manager/deleteFacility",
                    data:$("#FacilityName").val(),
                    contentType: "application/json;charset=UTF-8",
                    success:function(data){
                        console.log(data)
                        if (data.status === "success") {
                            alert("Delete facility successfully");
                        } else {
                            alert("Failed to delete facility, the reason is that " + data.data);
                        }
                    },
                    error:function(data){
                        console.log(data)
                        alert("Error! "+data.responseText);
                    }

                });
            })
        });
    </script>

    <script>
        jQuery(document).ready(function() {
            $("#Update_Facility").on("click", function (){
                var t = $("#FacilityName").val();
                console.log(t)
                console.log($("#FacilityName").val());
                console.log($("#FacilityIntroduction").val());
                $.ajax({
                    type: "POST",
                    url:"http://localhost:8080/manager/updateFacility",
                    data:JSON.stringify({
                        "facilityName":$("#FacilityName").val(),
                        "facilityStatus":("" === $("#FacilityStatus").val())?null:$("#FacilityStatus").val(),
                        "facilityIntroduction":("" === $("#FacilityIntroduction").val())?null:$("#FacilityIntroduction").val(),
                        "facilityOpenTime":("" === $("#FacilityOpenTime").val())?null:$("#FacilityOpenTime").val(),
                        "facilityCloseTime":("" === $("#FacilityCloseTime").val())?null:$("#FacilityCloseTime").val(),
                        "queueStatus":("" === $("#QueueStatus").val())?null:$("#QueueStatus").val(),
                    }),
                    dataType: "json",
                    contentType: "application/json;charset=UTF-8",
                    success:function(data){
                        console.log(data)
                        if (data.status === "success") {
                            alert("Update facility successfully");
                        } else {
                            alert("Failed to update facility, the reason is that " + data.data);
                        }
                    },
                    error:function(data){
                        console.log(data)
                        alert("Error! "+data.responseText);
                    }

                });
            })
        });
    </script>
</body>
</html>